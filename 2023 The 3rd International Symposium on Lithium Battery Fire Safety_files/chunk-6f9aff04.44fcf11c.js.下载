(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f9aff04"],{"13d5":function(e,t,n){"use strict";var a=n("23e7"),s=n("d58f").left,i=n("a640"),o=n("2d00"),r=n("605d"),l=i("reduce"),c=!r&&o>79&&o<83;a({target:"Array",proto:!0,forced:!l||c},{reduce:function(e){var t=arguments.length;return s(this,e,t,t>1?arguments[1]:void 0)}})},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("6b75");function s(e){if(Array.isArray(e))return Object(a["a"])(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=n("06c5");n("d9e2");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return s(e)||i(e)||Object(o["a"])(e)||r()}},"4de4":function(e,t,n){"use strict";var a=n("23e7"),s=n("b727").filter,i=n("1dde"),o=i("filter");a({target:"Array",proto:!0,forced:!o},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"56dc":function(e,t,n){var a=n("e6af");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=n("499e").default;s("c930b5ce",a,!0,{sourceMap:!1,shadowMode:!1})},"683f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{class:e.templateLangClass,attrs:{id:e.templateHtmlRootNodeId}})},s=[],i=n("2909"),o=n("5530"),r=(n("ac1f"),n("5319"),n("d3b7"),n("159b"),n("b0c0"),n("99af"),n("1276"),n("b64b"),n("13d5"),n("fb6a"),n("8316")),l=n("783f"),c=n("9a54"),d=n("a27e"),p=n("b628"),m=n("12cb"),f=n("f40e"),u=n("a026"),h={name:"custom-theme-base-index",data:function(){return{basicVo:{},templateHomePageId:"3"===this.$store.state.websiteConfig.languageType?"zh"===this.$store.state.currentLocale?this.$store.state.websiteConfig.templateZhHomePageId:this.$store.state.websiteConfig.templateEnHomePageId:"1"===this.$store.state.websiteConfig.languageType?this.$store.state.websiteConfig.templateZhHomePageId:this.$store.state.websiteConfig.templateEnHomePageId,pageId:null,lang:"3"===this.$store.state.websiteConfig.languageType?this.$store.state.currentLocale:"1"===this.$store.state.websiteConfig.languageType?"zh":"en",isMobile:this.$store.state.isMobile,templateHtmlRootNodeId:"template-html-root",page:{},menuTreeData:[],menuDOM:null,isSuperAdmin:!1}},props:{comp:{type:Object}},computed:{isLogin:function(){return!!this.$store.state.token},isRegister:function(){var e=!1;return this.isLogin&&this.$store.state.userInfo&&this.$store.state.userInfo.allUsers&&this.$store.state.userInfo.allUsers.conferenceUser&&(e=!0),e},isAdmin:function(){var e=!1;return this.isLogin&&this.$store.state.userInfo&&this.$store.state.userInfo.allUsers&&this.$store.state.userInfo.allUsers.conferenceManage&&(e=!0),e},isReview:function(){var e=!1;return this.isLogin&&this.$store.state.userInfo&&this.$store.state.userInfo.allUsers&&this.$store.state.userInfo.allUsers.conferenceReview&&(e=!0),e},templateLangClass:function(){return"template-lang-"+this.lang}},watch:{$route:function(e,t){t.path==e.path||this.init()}},created:function(){document.title=this.$store.state.websiteConfig.conferenceName,window.onTemplateReady=[],window.onMenuReady=[]},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$route.params.pageId?this.pageId=this.$route.params.pageId:this.pageId=this.templateHomePageId,this.pageId?this.$store.state.token?Object(c["d"])(this.$store.state.token.cstnetId).then((function(t){t.data&&(e.isSuperAdmin=!0),e.loadTemplatePage()})):this.loadTemplatePage():this.$router.replace("/404")},loadTemplatePage:function(){var e=this,t=this.isMobile?r["findMobileById"]:r["findById"];t(this.pageId).then((function(t){if(e.page=t.data,e.page){var n=e.page.template;if(n){var a=n.template;a?e.loadCommonTemplate():e.loadTemplate(e.templateHtmlRootNodeId)}else e.loadPage(document.getElementById(e.templateHtmlRootNodeId))}else e.$router.replace("/404")})).catch((function(t){console.log(t),e.$notify.error({title:e.$t("commonMsg.error"),message:e.$t("customIndex.templateMsg")})}))},loadCommonTemplate:function(){var e=this,t=this.page.template.template;this.loadCss(t.cssPath,(function(){var n=document.getElementById(e.templateHtmlRootNodeId);e.setHTMLWithScript(n,t.html).then((function(){e.loadTemplate(d["a"].commonTemplateContentNodeId)}))}))},loadTemplate:function(e){var t=this,n=this.page.template;this.loadCss(n.cssPath,(function(){t.setHTMLWithScript(document.getElementById(e),n.html).then((function(){var e=document.getElementById(d["a"].templateContentNodeId);e?t.loadPage(e):t.onTemplateReady()}))}))},loadPage:function(e){var t=this;if(this.comp)this.onTemplateReady(),this.mountCmp.call(this,this.comp,{},e);else{var n=this.page;this.loadCss(n.cssPath,(function(){t.setHTMLWithScript(e,n.html).then((function(){t.onTemplateReady()}))}))}},mountCmp:function(e,t,n){var a=document.createElement("div");n.appendChild(a),e=u["default"].extend(e),new e({el:a,propsData:t,parent:this})},loadCss:function(e,t){if(e){var n=Object(l["e"])(),a=document.createElement("link");a.href=n+e,a.rel="stylesheet",t&&"function"===typeof t&&(a.addEventListener("load",(function(){console.log("css 加载成功"),t()})),a.addEventListener("error",(function(){console.log("css 加载失败"),t()}))),document.head.appendChild(a)}else t&&"function"===typeof t&&t()},onTemplateReady:function(){if(window.onTemplateReady&&window.onTemplateReady instanceof Array&&window.onTemplateReady.length>0){var e=Object(o["a"])({},this.$store.state.websiteConfig);if(e.banner?e.banner=Object(l["e"])()+this.$store.state.websiteConfig.banner:e.banner="/banner/default_banner.png",e.conference&&e.conference.coverImageUrl&&(e.conference.coverImageUrl=Object(l["e"])()+e.conference.coverImageUrl),this.isLogin){var t={id:this.$store.state.token.id,trueName:this.$store.state.token.trueName,umtId:this.$store.state.token.umtId,cstnetId:this.$store.state.token.cstnetId};e.userInfo=t}delete e.registerConfigBasic,window.onTemplateReady.forEach((function(t){t(e)}))}this.setWebsiteTitle(),this.setBanner(),this.setPopupMenu(),this.checkRegister(),this.loadMenuData(),this.setLang(),this.setFooter(),this.setLogoContent(),this.getAllowRegist()},loadMenuData:function(){var e=this;Object(c["c"])(this.lang).then((function(t){if(e.menuTreeData=t.data,e.menuDOM=e.generatedMenuDOM(),e.menuDOM){var n=document.getElementById(d["a"].templateMenuNodeId);n&&(n.innerHTML="",n.appendChild(e.menuDOM))}if(window.onMenuReady&&window.onMenuReady instanceof Array&&window.onMenuReady.length>0){var a=Object(o["a"])({},e.menuTreeData);window.onMenuReady.forEach((function(e){e(a)}))}})).catch((function(t){console.log(t),e.$notify.error({title:e.$t("commonMsg.error"),message:e.$t("customIndex.menuMsg")})}))},generatedMenuDOM:function(){if(!this.menuTreeData||0===this.menuTreeData.length)return null;var e=document.createElement("ul");e.classList.add(d["a"].templateMenuClass);for(var t=0;t<this.menuTreeData.length;t++){var n=this.menuTreeData[t],a=this.generatedMenuItem(n);e.appendChild(a)}return e},generatedMenuItem:function(e){var t=document.createElement("li"),n=document.createElement("a");if(n.text=e.name,e.href&&(n.href=e.href,n.target=e.newWindow?"_blank":"_self"),e.icon){var a,s=document.createElement("i");(a=s.classList).add.apply(a,["template-menu-icon"].concat(Object(i["a"])(e.icon.split(" ")))),t.appendChild(s)}if(t.appendChild(n),e.children&&e.children.length>0){for(var o=document.createElement("ul"),r=0;r<e.children.length;r++){var l=e.children[r],c=this.generatedMenuItem(l);o.appendChild(c)}t.appendChild(o)}return t},setWebsiteTitle:function(){var e=this.$store.state.websiteConfig;this.replaceContent(d["a"].templateFirstTitleNodeClass,e.firstTitle,!0,!0),this.replaceContent(d["a"].templateSecondTitleNodeClass,e.secondTitle,!0,!0),this.replaceContent(d["a"].templateThirdTitleNodeClass,e.thirdTitle,!0,!0),this.replaceContent(d["a"].templatePageNameNodeClass,this.page.name,!0,!0)},setBanner:function(){var e=document.getElementById(d["a"].templateBannerNodeId);if(e){e.innerHTML="";var t="/banner/default_banner.png";this.$store.state.websiteConfig.banner?t=Object(l["e"])()+this.$store.state.websiteConfig.banner:e.dataset.defaultUrl&&(t=e.dataset.defaultUrl);var n=document.createElement("img");n.classList.add(d["a"].templateBannerClass),n.src=t,e.appendChild(n)}},setPopupMenu:function(){var e=this;if(this.isLogin){for(var t=document.getElementsByClassName(d["a"].templateHideAfterLoginClass),n=t.length-1;n>=0;n--){var a=t.item(n);a.parentNode.removeChild(a)}var s=document.getElementsByClassName(d["a"].templateUserNameNodeClass),i=Object.keys(s);i.forEach((function(t){return s[t].innerText=e.$store.state.token.trueName})),this.setChangePassword();var o=document.getElementsByClassName(d["a"].templateExitNodeClass);i=Object.keys(o),i.forEach((function(e){o[e].addEventListener("click",(function(){console.log("退出"),Object(p["b"])()}))}))}else{for(var r=document.getElementsByClassName(d["a"].templateDisplayAfterLoginClass),l=r.length-1;l>=0;l--){var c=r.item(l);c.parentNode.removeChild(c)}var m=document.getElementsByClassName(d["a"].templateLoginNodeClass);if(m.length>0)for(var f=m.length-1;f>=0;f--){var u=m.item(f);u.addEventListener("click",(function(){window.location.href="/conferencelogin?redirect="+window.location.href}))}}if(this.isRegister)for(var h=document.getElementsByClassName(d["a"].templateHideAfterAttendClass),g=h.length-1;g>=0;g--){var y=h.item(g);y.parentNode.removeChild(y)}else for(var b=document.getElementsByClassName(d["a"].templateDisplayAfterAttendClass),C=b.length-1;C>=0;C--){var v=b.item(C);v.parentNode.removeChild(v)}if(this.isAdmin||this.isReview||this.isSuperAdmin)for(var N=document.getElementsByClassName(d["a"].templateHideIsAdminClass),w=N.length-1;w>=0;w--){var T=N.item(w);T.parentNode.removeChild(T)}else for(var I=document.getElementsByClassName(d["a"].templateDisplayIsAdminClass),M=I.length-1;M>=0;M--){var E=I.item(M);E.parentNode.removeChild(E)}},checkRegister:function(){var e=this,t=document.getElementsByClassName(d["a"].templateRegisterNodeClass);if(0!==t.length)if(this.isLogin){var n=!1;this.$store.state.userInfo&&this.$store.state.userInfo.allUsers&&this.$store.state.userInfo.allUsers.conferenceUser&&(n=!0);for(var a=t.length-1;a>=0;a--){var s=t.item(a);n?s.parentNode.removeChild(s):("1"==this.$store.state.websiteConfig.languageType?(s.childNodes[0].innerHTML="<span>报名参会</span>",s.childNodes[1]&&(s.childNodes[1].innerHTML="<span>报名参会</span>")):"2"==this.$store.state.websiteConfig.languageType?"1542312824158687233"==this.$store.state.websiteConfig.conferenceId?(s.childNodes[0].innerHTML="<span>Apply</span>",s.childNodes[1]&&(s.childNodes[1].innerHTML="<span>Apply</span>")):(s.childNodes[0].innerHTML="<span>Register</span>",s.childNodes[1]&&(s.childNodes[1].innerHTML="<span>Register</span>")):"zh"==this.lang?(s.childNodes[0].innerHTML="<span>报名参会</span>",s.childNodes[1]&&(s.childNodes[1].innerHTML="<span>报名参会</span>")):"1542312824158687233"==this.$store.state.websiteConfig.conferenceId?(s.childNodes[0].innerHTML="<span>Apply</span>",s.childNodes[1]&&(s.childNodes[1].innerHTML="<span>Apply</span>")):(s.childNodes[0].innerHTML="<span>Register</span>",s.childNodes[1]&&(s.childNodes[1].innerHTML="<span>Register</span>")),s.addEventListener("click",(function(){e.$router.push("/conferenceRegister")})))}}else for(var i=t.length-1;i>=0;i--){var o=t.item(i);"1"==this.$store.state.websiteConfig.languageType?(o.childNodes[0].innerHTML="<span>报名参会</span>",o.childNodes[1]&&(o.childNodes[1].innerHTML="<span>报名参会</span>")):"2"==this.$store.state.websiteConfig.languageType?"1542312824158687233"==this.$store.state.websiteConfig.conferenceId?(o.childNodes[0].innerHTML="<span>Apply</span>",o.childNodes[1]&&(o.childNodes[1].innerHTML="<span>Apply</span>")):(o.childNodes[0].innerHTML="<span>Register</span>",o.childNodes[1]&&(o.childNodes[1].innerHTML="<span>Register</span>")):"zh"==this.lang?(o.childNodes[0].innerHTML="<span>报名参会</span>",o.childNodes[1]&&(o.childNodes[1].innerHTML="<span>报名参会</span>")):"1542312824158687233"==this.$store.state.websiteConfig.conferenceId?(o.childNodes[0].innerHTML="<span>Apply</span>",o.childNodes[1]&&(o.childNodes[1].innerHTML="<span>Apply</span>")):(o.childNodes[0].innerHTML="<span>Register</span>",o.childNodes[1]&&(o.childNodes[1].innerHTML="<span>Register</span>")),o.addEventListener("click",(function(){e.$router.push("/register")}))}},setLang:function(){var e=this,t=document.getElementsByClassName(d["a"].templateLangClass),n=Object.keys(t);n.forEach((function(n){"3"==e.$store.state.websiteConfig.languageType?t[n].addEventListener("click",(function(){t[n].setAttribute("hidden",!1),Object(m["b"])(),1==window.location.pathname.indexOf("page")?window.location.href="/":window.location.reload()})):t[n].setAttribute("hidden","hidden")}))},setFooter:function(){var e=this.$store.state.websiteConfig;this.replaceContent(d["a"].templateConferenceNameClass,e.conferenceName,!1,!0),this.replaceContent(d["a"].templateWebsiteRecordNumber,e.websiteRecordNumber,!1,!0)},replaceContent:function(e,t,n,a){var s=document.getElementsByClassName(e);if(a&&!t)for(var i=s.length-1;i>=0;i--){var o=s.item(i);o.parentNode.removeChild(o)}var r=Object.keys(s);n?r.forEach((function(e){return s[e].innerHTML=t})):r.forEach((function(e){return s[e].innerText=t}))},runScript:function(e){return new Promise((function(t,n){var a=document.createElement("script");a.innerHTML=e.innerHTML;var s=e.getAttribute("src");s&&a.setAttribute("src",s),a.onload=function(){return t()},a.onerror=function(e){return n()},document.head.appendChild(a),document.head.removeChild(a),s||t()}))},setHTMLWithScript:function(e,t){var n=this;e.innerHTML=t;var a=e.querySelectorAll("script");return Array.prototype.slice.apply(a).reduce((function(e,t){return e.then((function(){return n.runScript(t)}))}),Promise.resolve())},setLogoContent:function(){var e=this.$store.state.websiteConfig.shortTitle;document.getElementsByClassName("t-logo")[0]&&(document.getElementsByClassName("t-logo")[0].innerHTML=e),document.getElementsByClassName("t-m-logo")[0]&&(document.getElementsByClassName("t-m-logo")[0].innerHTML=e)},getAllowRegist:function(){f["b"]().then((function(e){var t=e.data;t.register||(document.getElementsByClassName("template-hide-after-login")[0]&&(document.getElementsByClassName("template-hide-after-login")[0].style.display="none"),document.getElementsByClassName("template-hide-after-login")[1]&&(document.getElementsByClassName("template-hide-after-login")[1].style.display="none"),document.getElementsByClassName("t-m-logo")[0]&&(document.getElementsByClassName("t-m-logo")[0].style="margin-right: 50px"),document.getElementsByClassName("template-register-container")[0]&&(document.getElementsByClassName("template-register-container")[0].style.display="none"),document.getElementsByClassName("template-register-container")[1]&&(document.getElementsByClassName("template-register-container")[1].style.display="none"),document.getElementsByClassName("t-m-title-4")[0]&&(document.getElementsByClassName("t-m-title-4")[0].style.display="none"))})).catch((function(e){console.log(e)}))},setChangePassword:function(){document.getElementsByClassName("t-dropdown-content")[0]&&(document.getElementsByClassName("t-dropdown-content")[0].innerHTML='<a href="/profile/userInfo" class="t-lang-zh template-display-after-attend"><i class="fa fa-cogs"></i><span>个人中心</span></a> <a href="/platform/manage/user" class="t-lang-zh template-display-is-admin"><i class="fa fa-desktop"></i><span>会议管理</span></a> <a href="/resetPassword" class="t-lang-zh"><i class="el-icon-unlock"></i><span>修改密码</span></a> <a href="#" class="template-exit-container t-lang-zh"><i class="fa fa-sign-out"></i><span>退出</span></a>   <a href="/profile/userInfo" class="t-lang-en template-display-after-attend"><i class="fa fa-cogs"></i><span>Personal Center</span></a> <a href="/platform/manage/user" class="t-lang-en template-display-is-admin"><i class="fa fa-desktop"></i><span>Conference Management</span></a> <a href="/resetPassword" class="t-lang-en"><i class="el-icon-unlock"></i><span>Change Password</span></a> <a href="#" class="template-exit-container t-lang-en"><i class="fa fa-sign-out"></i><span>Exit</span></a>'),document.getElementsByClassName("t-m-dropdown-content")[0]&&(document.getElementsByClassName("t-m-dropdown-content")[0].innerHTML='<a href="/profile/userInfo" class="t-lang-zh template-display-after-attend"><i class="fa fa-cogs"></i><span>个人中心</span></a> <a href="/platform/manage/user" class="t-lang-zh template-display-is-admin"><i class="fa fa-desktop"></i><span>会议管理</span></a> <a href="/resetPassword" class="t-lang-zh"><i class="el-icon-unlock"></i><span>修改密码</span></a> <a href="#" class="template-exit-container t-lang-zh"><i class="fa fa-sign-out"></i><span>退出</span></a> <a href="/profile/userInfo" class="t-lang-en template-display-after-attend"><i class="fa fa-cogs"></i><span>Personal Center</span></a> <a href="/platform/manage/user" class="t-lang-en template-display-is-admin"><i class="fa fa-desktop"></i><span>Conference Management</span></a> <a href="/resetPassword" class="t-lang-en"><i class="el-icon-unlock"></i><span>Change Password</span></a> <a href="#" class="template-exit-container t-lang-en"><i class="fa fa-sign-out"></i><span>Exit</span></a> ')}}},g=h,y=(n("b4b7"),n("2877")),b=Object(y["a"])(g,a,s,!1,null,null,null);t["default"]=b.exports},8316:function(e,t,n){"use strict";n.r(t),n.d(t,"findById",(function(){return o})),n.d(t,"findMobileById",(function(){return r})),n.d(t,"queryList",(function(){return l})),n.d(t,"deletePage",(function(){return c})),n.d(t,"savePage",(function(){return d})),n.d(t,"findAllTemplate",(function(){return p})),n.d(t,"findAllCommonTemplate",(function(){return m})),n.d(t,"findAllPage",(function(){return f})),n.d(t,"findAllImagePath",(function(){return u}));var a=n("eeb9"),s=n("4360"),i=s["a"].state.websiteConfig,o=function(e){return a["a"].get("/conference/page/find/".concat(e))},r=function(e){return a["a"].get("/conference/page/mobile/find/".concat(e))},l=function(e){return a["a"].get("/conference/page/list",{params:e})},c=function(e){return a["a"].delete("/conference/page/delete/".concat(e))},d=function(e){return a["a"].post("/conference/page/save",e)},p=function(e){return e||(e=i.exteriorId),a["a"].get("/conference/page/findAllTemplate",{params:{exteriorId:e}})},m=function(e){return e||(e=i.exteriorId),a["a"].get("/conference/page/findAllCommonTemplate",{params:{exteriorId:e}})},f=function(){return a["a"].get("/conference/page/findAllPage")},u=function(){return a["a"].get("/conference/page/image/path/all")}},b4b7:function(e,t,n){"use strict";n("56dc")},dbb4:function(e,t,n){var a=n("23e7"),s=n("83ab"),i=n("56ef"),o=n("fc6a"),r=n("06cf"),l=n("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){var t,n,a=o(e),s=r.f,c=i(a),d={},p=0;while(c.length>p)n=s(a,t=c[p++]),void 0!==n&&l(d,t,n);return d}})},e439:function(e,t,n){var a=n("23e7"),s=n("d039"),i=n("fc6a"),o=n("06cf").f,r=n("83ab"),l=s((function(){o(1)})),c=!r||l;a({target:"Object",stat:!0,forced:c,sham:!r},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},e6af:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".t-m-logo{width:70%!important;max-height:100%!important;text-align:center!important;display:-webkit-box;display:-ms-flexbox;display:flex;overflow-y:auto!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),e.exports=t}}]);